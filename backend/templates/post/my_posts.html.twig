{% extends 'base.html.twig' %}

{% block title %}My Posts
{% endblock %}

{% block body %}
	<style>
		.example-wrapper {
			margin: 1em auto;
			max-width: 800px;
			width: 95%;
			font: 18px / 1.5 sans-serif;
		}
		.example-wrapper code {
			background: #F5F5F5;
			padding: 2px 6px;
		}
	</style>
	<div class="header d-flex justify-content-between mt-5 mb-4">
		<h1 class="h3 font-weight-normal">My Posts</h1>
		<a href="{{ path('post_store') }}" class="btn btn-success">Create New</a>
	</div>
	{% for message in app.flashes('success') %}
		{% if message is not empty %}
			<div class="alert alert-success" role="alert">
				{{ message }}
			</div>
		{% endif %}
	{% endfor %}
	<div class="d-flex gap-5">
		{% if posts is defined %}
			{% for post in posts %}
				<div class="card" style="width: 18rem;">
					<img src="{{ asset('uploads/posts/' ~ post.image) }}" alt="" class="card-img-top" width="286" height="190">
					<div class="card-body ">
						<h5 class="card-title">{{ post.title }}</h5>
						<p class="card-text text-truncate">{{ post.body }}</p>
						<div class="d-flex justify-content-between">
							<a href="{{ path('post_show', {'slug': post.slug}) }}" class="btn btn-primary">Go to post</a>
							<a href="{{ path('post_update', {'slug' : post.slug}) }}" class="btn btn-success">Edit</a>
						</div>
					</div>
				</div>
			{% endfor %}
		{% endif %}
	</div>
{% endblock %}
